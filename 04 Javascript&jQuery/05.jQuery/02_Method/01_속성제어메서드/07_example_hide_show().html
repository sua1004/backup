<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>07_example_hide_show()</title>

    <script src="jquery-1.7.2.min.js"></script>

    <script>
        /* 
        hide(소요시간(ms), 가속도easing, 콜백함수)
        - display:none; 으로 변경

        show(소요시간(ms), 가속도easing, 콜백함수)
        - display:none; 이 아닌 상태(=원래의 상태)로 변경

        toggle(소요시간(ms), 가속도easing, 콜백함수)
        - display 상태에 따라 show() 또는 hide() 실행
        */

        $(function () {

            //1) 버튼을 클릭하면, 클릭된 버튼에 따라 img가 보여지거나 사라지게 하시오.
            //2) 이미지가 사라졌다 나타났을 떄 변경된 이미지가 보여지도록 하시오.

            /* 
            >>이미지가 사라지고 난 후(hide의 콜백함수!)
            >>미지 경로 변경!(atrr() 메서드 사용!)

            >>이미지 파일명 변경은?
              이미지 파일명의 숫자를 담을 변수 사용!
            */

            var iNum = 1; //이미지 파일명을 변경할 변수!

            $('#hide').click(function () {
                $('.img-box img').hide(1000, function(){
                    //$(this).attr('src','image/vogue2.jpg')
                    //this >> hide된 img-box의 img

                    iNum++;
                    console.log(iNum);

                    //변경된 최종 변수값 적용 전에 검사!
                    if (iNum === 6) iNum = 1;

                    $(this).attr({
                        //src: 'image/vogue' + iNum + '.jpg'
                        src: `image/vogue${iNum}.jpg`
                    });
                });
            });

            $("#show").click(function () {
                $('.img-box img').show(1000,function(){
                    //이미지가 등장하고 난 후, 숫자변경!
                    $('.no').text(iNum);
                });

                //$('.no').text(iNum);
            });

            $('#toggle').click(function () {
                $('.img-box img').toggle(1000, function(){
                    // .img-box img의 display 상태에 따라 콜백함수 실헹
                    // 여기에서 나올 수 있는 display 상태는?
                    // none 이거나 none이 아니거나!
                    // if else문 실행!

                    var status = $(this).css('display');
                    console.log(status); // none || block

                    if (status == 'none'){
                        //hide()의 콜백함수 실행!
                        iNum++;
                        if (iNum === 6) iNum = 1;

                        $(this).attr({
                        //src: 'image/vogue' + iNum + '.jpg'
                        src: `image/vogue${iNum}.jpg`
                    });
                        
                    } else {
                        //show()의 콜백함수 실행!
                        $('.no').text(iNum);
                    }

                });
            });



            /* 
            1. 버튼을 클릭 했을 떄 >> click()

            2. 버튼에 따라 img가 달라짐
            1) 이미지가 보여짐 >> show()
            2) 이미지가 사라짐 >> hide()
            3) 이미지의 상태에 따라 달라짐 >> toggle

            3. 이미지가 다시 나타났을 때 변경된 이미지가 보여짐 >> attr()
            */
        });
    </script>
</head>

<body>

    <div class="container">
        <div class="btngrp">
            <button id="hide">hide()</button>
            <button id="show">show()</button>
            <button id="toggle">toggle()</button>
        </div>

        <h2 class="title">VOGUE KOREA <span class="no">1</span></h2>

        <div class="img-box">
            <img src="image/vogue1.jpg" alt="김연아 보그 화보">
        </div>
    </div>

    <style>
        .container {
            width: 560px;
            margin: 0 auto;
        }

        .btngrp {
            margin: 30px 0;
            text-align: center;
        }

        .btngrp button {
            font-size: 24px;
        }

        .title {
            font-size: 32px;
            text-align: center;
        }

        .title span {
            color: tomato;
        }

        .img-box {
            padding: 30px;
            outline: 2px solid red;
        }

        .img-box img {
            width: 500px;
            display: block;
        }
    </style>

</body>

</html>